import{a as m,r as n,j as e,c as x,b as j,d as i,e as g,F as N,f as b,g as d,E as o}from"./index-cZTEJOuf.js";function P(){return m.get("http://localhost:5000/Products/get-products").then(t=>t.data).catch(t=>{throw console.error("There was an error fetching the products!",t),t})}function f(t){return m.post("http://localhost:5000/Products/add-product",JSON.stringify(t),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(s=>s.data).catch(s=>{throw console.error("There was an error adding the product!",s),s})}const u={getAllProducts:P,addProduct:f};function y(t){const[s,l]=n.useState([]);return n.useEffect(()=>{u.getAllProducts().then(r=>{l(r)}).catch(r=>{console.error("Error fetching products:",r)})},[]),e.jsx("div",{className:"col-sm-12",children:e.jsxs("table",{className:"table table-bordered table-striped",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category ID"}),e.jsx("th",{children:"Product Name"}),e.jsx("th",{children:"Product Price"}),e.jsx("th",{children:"Product Description"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:r.productCategory}),e.jsx("td",{children:r.productName}),e.jsxs("td",{children:["$",r.productPrice]}),e.jsx("td",{children:r.productDescription}),e.jsx("td",{children:e.jsx("input",{type:"button",value:"View Product",className:"btn btn-secondary",onClick:()=>redirectToProductView(r.id)})})]},r.productId))})]})})}const C=()=>{const t=x,[s,l]=n.useState(t),r={productName:"",productDescription:"",productPrice:"",productCategory:"",productImage:null},p=j({productName:i().required("Product Name is required"),productDescription:i().required("Product Description is required"),productPrice:g().typeError("Product Price must be a number").required("Product Price is required"),productCategory:i().required("Product Category is required")}),h=a=>{console.log("Form Submitted:",a),u.addProduct(a).then(c=>{console.log("Product added successfully:",c),alert("Product added successfully!")}).catch(c=>{console.error("Error adding product:",c),alert("Error adding product")}),setValues(r)};return e.jsx("div",{className:"container mt-4 mb-3 border border-2 rounded-3 shadow-sm",children:e.jsxs("div",{className:"row mt-4",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h2",{children:"Add Product"}),e.jsx(N,{initialValues:r,validationSchema:p,onSubmit:h,children:({setFieldValue:a})=>e.jsxs(b,{children:[e.jsxs("div",{className:"mb-3 form-group",children:[e.jsx("label",{htmlFor:"productName",className:"form-label",children:"Name"}),e.jsx(d,{type:"text",id:"productName",name:"productName",className:"form-control"}),e.jsx(o,{name:"productName",component:"div",className:"text-danger"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"productDescription",className:"form-label",children:"Description"}),e.jsx(d,{as:"textarea",id:"productDescription",name:"productDescription",className:"form-control"}),e.jsx(o,{name:"productDescription",component:"div",className:"text-danger"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"productPrice",className:"form-label",children:"Price"}),e.jsx(d,{type:"text",id:"productPrice",name:"productPrice",className:"form-control"}),e.jsx(o,{name:"productPrice",component:"div",className:"text-danger"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"productCategory",className:"form-label",children:"Category"}),e.jsxs(d,{as:"select",id:"productCategory",name:"productCategory",className:"form-control",children:[e.jsx("option",{value:"",children:"Select Category"}),s.map(c=>e.jsx("option",{value:c.id,children:c.categoryName},c.id))]}),e.jsx(o,{name:"productCategory",component:"div",className:"text-danger"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"productImage",className:"form-label",children:"Image"}),e.jsx("input",{type:"file",id:"productImage",name:"productImage",className:"form-control",onChange:c=>{a("productImage",c.currentTarget.files[0])}}),e.jsx(o,{name:"productImage",component:"div",className:"text-danger"})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})]}),e.jsx("div",{className:"col-md-6",children:e.jsx(y,{})})]})})};export{C as default};
